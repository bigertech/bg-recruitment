function getJob(t){jobs[t]?($("#detail-name").html(jobs[t].name),$("#detail-address").html(jobs[t].address),$("#detail-desc").html(jobs[t].description)):$.get("/job/"+t,function(e){e&&($("#detail-name").html(e.name),$("#detail-address").html(e.address),$("#detail-desc").html(e.description),jobs[t]=e)}),openNew()}function openNew(){var t=document.body.scrollWidth,e=document.body.scrollHeight,i=document.documentElement.clientWidth,n=document.documentElement.clientHeight,s=document.createElement("div");s.id="mask",s.style.height=e+"px",s.style.width=t+"px",document.body.appendChild(s);var a=document.getElementById("detail");a.style.display="block";var o=a.offsetHeight,r=a.offsetWidth;a.style.left=i/2-r/2+"px",a.style.top=n/2-o/2+"px";for(var l=document.getElementsByClassName("close"),d=0;d<l.length;d++)l[d].onclick=s.onclick=function(){a.style.display="none",document.body.removeChild(s)}}+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.carousel"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),o="string"==typeof e?e:a.slide;s||n.data("bs.carousel",s=new i(this,a)),"number"==typeof e?s.to(e):o?s[o]():a.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.2.0",i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},i.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.to=function(e){var i=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,i){var n=this.$element.find(".item.active"),s=i||n[e](),a=this.interval,o="next"==e?"left":"right",r="next"==e?"first":"last",l=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[r]()}if(s.hasClass("active"))return this.sliding=!1;var d=s[0],c=t.Event("slide.bs.carousel",{relatedTarget:d,direction:o});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(s)]);h&&h.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:d,direction:o});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(o),s.addClass(o),n.one("bsTransitionEnd",function(){s.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(1e3*n.css("transition-duration").slice(0,-1))):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(u)),a&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(i){var n,s=t(this),a=t(s.attr("data-target")||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var o=t.extend({},a.data(),s.data()),r=s.attr("data-slide-to");r&&(o.interval=!1),e.call(a,o),r&&a.data("bs.carousel").to(r),i.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery);var jobs={};jQuery(function(){navigator.userAgent.indexOf("MSIE")<0&&console.log("^_^ 想加入笔戈科技开发团队？请发送邮件到 liuxing@meizu.com")}),window.onload=function(){for(var t=document.getElementsByClassName("job-name"),e=0;e<t.length;e++)t[e].onclick=function(){return getJob($(this).attr("id")),!1}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmpzIiwiaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBVUEsUUFBQSxRQUFBLEdBQ0EsS0FBQSxJQUNBLEVBQUEsZ0JBQUEsS0FBQSxLQUFBLEdBQUEsTUFDQSxFQUFBLG1CQUFBLEtBQUEsS0FBQSxHQUFBLFNBQ0EsRUFBQSxnQkFBQSxLQUFBLEtBQUEsR0FBQSxjQUVBLEVBQUEsSUFBQSxRQUFBLEVBQUEsU0FBQSxHQUNBLElBQ0EsRUFBQSxnQkFBQSxLQUFBLEVBQUEsTUFDQSxFQUFBLG1CQUFBLEtBQUEsRUFBQSxTQUNBLEVBQUEsZ0JBQUEsS0FBQSxFQUFBLGFBQ0EsS0FBQSxHQUFBLEtBS0EsVUFHQSxRQUFBLFdBRUEsR0FBQSxHQUFBLFNBQUEsS0FBQSxZQUNBLEVBQUEsU0FBQSxLQUFBLGFBR0EsRUFBQSxTQUFBLGdCQUFBLFlBQ0EsRUFBQSxTQUFBLGdCQUFBLGFBRUEsRUFBQSxTQUFBLGNBQUEsTUFDQSxHQUFBLEdBQUEsT0FDQSxFQUFBLE1BQUEsT0FBQSxFQUFBLEtBQ0EsRUFBQSxNQUFBLE1BQUEsRUFBQSxLQUNBLFNBQUEsS0FBQSxZQUFBLEVBRUEsSUFBQSxHQUFBLFNBQUEsZUFBQSxTQUNBLEdBQUEsTUFBQSxRQUFBLE9BR0EsSUFBQSxHQUFBLEVBQUEsYUFDQSxFQUFBLEVBQUEsV0FFQSxHQUFBLE1BQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBQ0EsRUFBQSxNQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQU1BLEtBQUEsR0FIQSxHQUFBLFNBQUEsdUJBQUEsU0FHQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEdBQUEsUUFBQSxFQUFBLFFBQUEsV0FDQSxFQUFBLE1BQUEsUUFBQSxPQUNBLFNBQUEsS0FBQSxZQUFBLEtDcERBLFNBQUEsR0FDQSxZQUtBLFNBQUEsS0FDQSxHQUFBLEdBQUEsU0FBQSxjQUFBLGFBRUEsR0FDQSxpQkFBQSxzQkFDQSxjQUFBLGdCQUNBLFlBQUEsZ0NBQ0EsV0FBQSxnQkFHQSxLQUFBLEdBQUEsS0FBQSxHQUNBLEdBQUEsU0FBQSxFQUFBLE1BQUEsR0FDQSxPQUFBLElBQUEsRUFBQSxHQUlBLFFBQUEsRUFJQSxFQUFBLEdBQUEscUJBQUEsU0FBQSxHQUNBLEdBQUEsSUFBQSxFQUNBLEVBQUEsSUFDQSxHQUFBLE1BQUEsSUFBQSxrQkFBQSxXQUFBLEdBQUEsR0FDQSxJQUFBLEdBQUEsV0FBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLEVBQUEsUUFBQSxXQUFBLEtBRUEsT0FEQSxZQUFBLEVBQUEsR0FDQSxNQUdBLEVBQUEsV0FDQSxFQUFBLFFBQUEsV0FBQSxJQUVBLEVBQUEsUUFBQSxhQUVBLEVBQUEsTUFBQSxRQUFBLGlCQUNBLFNBQUEsRUFBQSxRQUFBLFdBQUEsSUFDQSxhQUFBLEVBQUEsUUFBQSxXQUFBLElBQ0EsT0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsUUFBQSxHQUFBLE1BQUEsRUFBQSxVQUFBLFFBQUEsTUFBQSxLQUFBLFdBQUEsYUFLQSxTQWdCQSxTQUFBLEdBQ0EsWUEySkEsU0FBQSxHQUFBLEdBQ0EsTUFBQSxNQUFBLEtBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxLQUFBLGVBQ0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsT0FBQSxnQkFBQSxJQUFBLEdBQ0EsRUFBQSxnQkFBQSxHQUFBLEVBQUEsRUFBQSxLQUVBLElBQUEsRUFBQSxLQUFBLGNBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxJQUNBLGdCQUFBLEdBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEtBQ0EsRUFBQSxVQUFBLEVBQUEsUUFBQSxVQWhLQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsS0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLHNCQUFBLEVBQUEsTUFBQSxLQUFBLFFBQUEsT0FDQSxLQUFBLFlBQUEsS0FBQSxTQUFBLEtBQUEsd0JBQ0EsS0FBQSxRQUFBLEVBQ0EsS0FBQSxPQUNBLEtBQUEsUUFDQSxLQUFBLFNBQ0EsS0FBQSxRQUNBLEtBQUEsT0FBQSxLQUVBLFNBQUEsS0FBQSxRQUFBLE9BQUEsS0FBQSxTQUNBLEdBQUEseUJBQUEsRUFBQSxNQUFBLEtBQUEsTUFBQSxPQUNBLEdBQUEseUJBQUEsRUFBQSxNQUFBLEtBQUEsTUFBQSxPQUdBLEdBQUEsUUFBQSxRQUVBLEVBQUEsVUFDQSxTQUFBLElBQ0EsTUFBQSxRQUNBLE1BQUEsR0FHQSxFQUFBLFVBQUEsUUFBQSxTQUFBLEdBQ0EsT0FBQSxFQUFBLE9BQ0EsSUFBQSxJQUFBLEtBQUEsTUFBQSxNQUNBLEtBQUEsSUFBQSxLQUFBLE1BQUEsTUFDQSxTQUFBLE9BR0EsRUFBQSxrQkFHQSxFQUFBLFVBQUEsTUFBQSxTQUFBLEdBU0EsTUFSQSxLQUFBLEtBQUEsUUFBQSxHQUVBLEtBQUEsVUFBQSxjQUFBLEtBQUEsVUFFQSxLQUFBLFFBQUEsV0FDQSxLQUFBLFNBQ0EsS0FBQSxTQUFBLFlBQUEsRUFBQSxNQUFBLEtBQUEsS0FBQSxNQUFBLEtBQUEsUUFBQSxXQUVBLE1BR0EsRUFBQSxVQUFBLGFBQUEsU0FBQSxHQUVBLE1BREEsTUFBQSxPQUFBLEVBQUEsU0FBQSxTQUFBLFNBQ0EsS0FBQSxPQUFBLE1BQUEsR0FBQSxLQUFBLFVBR0EsRUFBQSxVQUFBLEdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUNBLEVBQUEsS0FBQSxhQUFBLEtBQUEsUUFBQSxLQUFBLFNBQUEsS0FBQSxnQkFFQSxPQUFBLEdBQUEsS0FBQSxPQUFBLE9BQUEsR0FBQSxFQUFBLEVBQUEsT0FFQSxLQUFBLFFBQUEsS0FBQSxTQUFBLElBQUEsbUJBQUEsV0FBQSxFQUFBLEdBQUEsS0FDQSxHQUFBLEVBQUEsS0FBQSxRQUFBLFFBRUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxPQUFBLE9BQUEsRUFBQSxLQUFBLE9BQUEsTUFHQSxFQUFBLFVBQUEsTUFBQSxTQUFBLEdBVUEsTUFUQSxLQUFBLEtBQUEsUUFBQSxHQUVBLEtBQUEsU0FBQSxLQUFBLGdCQUFBLFFBQUEsRUFBQSxRQUFBLGFBQ0EsS0FBQSxTQUFBLFFBQUEsRUFBQSxRQUFBLFdBQUEsS0FDQSxLQUFBLE9BQUEsSUFHQSxLQUFBLFNBQUEsY0FBQSxLQUFBLFVBRUEsTUFHQSxFQUFBLFVBQUEsS0FBQSxXQUNBLE1BQUEsTUFBQSxRQUFBLE9BQ0EsS0FBQSxNQUFBLFNBR0EsRUFBQSxVQUFBLEtBQUEsV0FDQSxNQUFBLE1BQUEsUUFBQSxPQUNBLEtBQUEsTUFBQSxTQUdBLEVBQUEsVUFBQSxNQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLFNBQUEsS0FBQSxnQkFDQSxFQUFBLEdBQUEsRUFBQSxLQUNBLEVBQUEsS0FBQSxTQUNBLEVBQUEsUUFBQSxFQUFBLE9BQUEsUUFDQSxFQUFBLFFBQUEsRUFBQSxRQUFBLE9BQ0EsRUFBQSxJQUVBLEtBQUEsRUFBQSxPQUFBLENBQ0EsSUFBQSxLQUFBLFFBQUEsS0FBQSxNQUNBLEdBQUEsS0FBQSxTQUFBLEtBQUEsU0FBQSxLQUdBLEdBQUEsRUFBQSxTQUFBLFVBQUEsTUFBQSxNQUFBLFNBQUEsQ0FFQSxJQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxNQUFBLHFCQUNBLGNBQUEsRUFDQSxVQUFBLEdBR0EsSUFEQSxLQUFBLFNBQUEsUUFBQSxJQUNBLEVBQUEscUJBQUEsQ0FNQSxHQUpBLEtBQUEsU0FBQSxFQUVBLEdBQUEsS0FBQSxRQUVBLEtBQUEsWUFBQSxPQUFBLENBQ0EsS0FBQSxZQUFBLEtBQUEsV0FBQSxZQUFBLFNBQ0EsSUFBQSxHQUFBLEVBQUEsS0FBQSxZQUFBLFdBQUEsS0FBQSxhQUFBLElBQ0EsSUFBQSxFQUFBLFNBQUEsVUFHQSxHQUFBLEdBQUEsRUFBQSxNQUFBLG9CQUFBLGNBQUEsRUFBQSxVQUFBLEdBeUJBLE9BeEJBLEdBQUEsUUFBQSxZQUFBLEtBQUEsU0FBQSxTQUFBLFVBQ0EsRUFBQSxTQUFBLEdBQ0EsRUFBQSxHQUFBLFlBQ0EsRUFBQSxTQUFBLEdBQ0EsRUFBQSxTQUFBLEdBQ0EsRUFDQSxJQUFBLGtCQUFBLFdBQ0EsRUFBQSxhQUFBLEVBQUEsR0FBQSxLQUFBLE1BQUEsU0FBQSxVQUNBLEVBQUEsYUFBQSxTQUFBLEdBQUEsS0FBQSxNQUNBLEVBQUEsU0FBQSxFQUNBLFdBQUEsV0FDQSxFQUFBLFNBQUEsUUFBQSxJQUNBLEtBRUEscUJBQUEsSUFBQSxFQUFBLElBQUEsdUJBQUEsTUFBQSxFQUFBLE9BRUEsRUFBQSxZQUFBLFVBQ0EsRUFBQSxTQUFBLFVBQ0EsS0FBQSxTQUFBLEVBQ0EsS0FBQSxTQUFBLFFBQUEsSUFHQSxHQUFBLEtBQUEsUUFFQSxNQXFCQSxJQUFBLEdBQUEsRUFBQSxHQUFBLFFBRUEsR0FBQSxHQUFBLFNBQUEsRUFDQSxFQUFBLEdBQUEsU0FBQSxZQUFBLEVBTUEsRUFBQSxHQUFBLFNBQUEsV0FBQSxXQUVBLE1BREEsR0FBQSxHQUFBLFNBQUEsRUFDQSxNQU9BLEVBQUEsVUFBQSxHQUFBLDZCQUFBLGdDQUFBLFNBQUEsR0FDQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsS0FBQSxpQkFBQSxFQUFBLEVBQUEsS0FBQSxVQUFBLEVBQUEsUUFBQSxpQkFBQSxJQUNBLElBQUEsRUFBQSxTQUFBLFlBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsT0FBQSxFQUFBLFFBQ0EsRUFBQSxFQUFBLEtBQUEsZ0JBQ0EsS0FBQSxFQUFBLFVBQUEsR0FFQSxFQUFBLEtBQUEsRUFBQSxHQUVBLEdBQ0EsRUFBQSxLQUFBLGVBQUEsR0FBQSxHQUdBLEVBQUEsb0JBR0EsRUFBQSxRQUFBLEdBQUEsT0FBQSxXQUNBLEVBQUEsMEJBQUEsS0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLEtBQ0EsR0FBQSxLQUFBLEVBQUEsRUFBQSxhQUlBLE9EOVJBLElBQUEsUUFFQSxRQUFBLFdBQ0EsVUFBQSxVQUFBLFFBQUEsUUFBQSxHQUVBLFFBQUEsSUFBQSw4Q0E0REEsT0FBQSxPQUFBLFdBSUEsSUFBQSxHQUhBLEdBQUEsU0FBQSx1QkFBQSxZQUdBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsR0FBQSxRQUFBLFdBRUEsTUFEQSxRQUFBLEVBQUEsTUFBQSxLQUFBLFFBQ0EiLCJmaWxlIjoiYmlnZXJ0ZWNoLWpvYnMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRyYW5zaXRpb24uanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0cmFuc2l0aW9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENTUyBUUkFOU0lUSU9OIFNVUFBPUlQgKFNob3V0b3V0OiBodHRwOi8vd3d3Lm1vZGVybml6ci5jb20vKVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jvb3RzdHJhcCcpXG5cbiAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgV2Via2l0VHJhbnNpdGlvbiA6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAgIE1velRyYW5zaXRpb24gICAgOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgIHRyYW5zaXRpb24gICAgICAgOiAndHJhbnNpdGlvbmVuZCdcbiAgICB9XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHRyYW5zRW5kRXZlbnROYW1lcykge1xuICAgICAgaWYgKGVsLnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgZW5kOiB0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV0gfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZSAvLyBleHBsaWNpdCBmb3IgaWU4ICggIC5fLilcbiAgfVxuXG4gIC8vIGh0dHA6Ly9ibG9nLmFsZXhtYWNjYXcuY29tL2Nzcy10cmFuc2l0aW9uc1xuICAkLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgdmFyICRlbCA9IHRoaXNcbiAgICAkKHRoaXMpLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlIH0pXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XG4gICAgc2V0VGltZW91dChjYWxsYmFjaywgZHVyYXRpb24pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gICQoZnVuY3Rpb24gKCkge1xuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZCgpXG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm5cblxuICAgICQuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQgPSB7XG4gICAgICBiaW5kVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBoYW5kbGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyh0aGlzKSkgcmV0dXJuIGUuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxufShqUXVlcnkpO1xuXG5cblxuXG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNhcm91c2VsLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY2Fyb3VzZWxcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDQVJPVVNFTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgPSAkKGVsZW1lbnQpLm9uKCdrZXlkb3duLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpKVxuICAgIHRoaXMuJGluZGljYXRvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5jYXJvdXNlbC1pbmRpY2F0b3JzJylcbiAgICB0aGlzLm9wdGlvbnMgICAgID0gb3B0aW9uc1xuICAgIHRoaXMucGF1c2VkICAgICAgPVxuICAgIHRoaXMuc2xpZGluZyAgICAgPVxuICAgIHRoaXMuaW50ZXJ2YWwgICAgPVxuICAgIHRoaXMuJGFjdGl2ZSAgICAgPVxuICAgIHRoaXMuJGl0ZW1zICAgICAgPSBudWxsXG5cbiAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiB0aGlzLiRlbGVtZW50XG4gICAgICAub24oJ21vdXNlZW50ZXIuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKVxuICAgICAgLm9uKCdtb3VzZWxlYXZlLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmN5Y2xlLCB0aGlzKSlcbiAgfVxuXG4gIENhcm91c2VsLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIENhcm91c2VsLkRFRkFVTFRTID0ge1xuICAgIGludGVydmFsOiA1MDAwLFxuICAgIHBhdXNlOiAnaG92ZXInLFxuICAgIHdyYXA6IHRydWVcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgIGNhc2UgMzc6IHRoaXMucHJldigpOyBicmVha1xuICAgICAgY2FzZSAzOTogdGhpcy5uZXh0KCk7IGJyZWFrXG4gICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5jeWNsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSBmYWxzZSlcblxuICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgdGhpcy5vcHRpb25zLmludGVydmFsXG4gICAgICAmJiAhdGhpcy5wYXVzZWRcbiAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHRoaXMuJGl0ZW1zID0gaXRlbS5wYXJlbnQoKS5jaGlsZHJlbignLml0ZW0nKVxuICAgIHJldHVybiB0aGlzLiRpdGVtcy5pbmRleChpdGVtIHx8IHRoaXMuJGFjdGl2ZSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICB2YXIgdGhhdCAgICAgICAgPSB0aGlzXG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSlcblxuICAgIGlmIChwb3MgPiAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkgfHwgcG9zIDwgMCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5zbGlkaW5nKSAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5vbmUoJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoKSB7IHRoYXQudG8ocG9zKSB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09IHBvcykgcmV0dXJuIHRoaXMucGF1c2UoKS5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpcy5zbGlkZShwb3MgPiBhY3RpdmVJbmRleCA/ICduZXh0JyA6ICdwcmV2JywgJCh0aGlzLiRpdGVtc1twb3NdKSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSB0cnVlKVxuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnLm5leHQsIC5wcmV2JykubGVuZ3RoICYmICQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKVxuICAgICAgdGhpcy5jeWNsZSh0cnVlKVxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ25leHQnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ3ByZXYnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcbiAgICB2YXIgJGFjdGl2ZSAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKVxuICAgIHZhciAkbmV4dCAgICAgPSBuZXh0IHx8ICRhY3RpdmVbdHlwZV0oKVxuICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXG4gICAgdmFyIGRpcmVjdGlvbiA9IHR5cGUgPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0J1xuICAgIHZhciBmYWxsYmFjayAgPSB0eXBlID09ICduZXh0JyA/ICdmaXJzdCcgOiAnbGFzdCdcbiAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuXG4gICAgaWYgKCEkbmV4dC5sZW5ndGgpIHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLndyYXApIHJldHVyblxuICAgICAgJG5leHQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtJylbZmFsbGJhY2tdKClcbiAgICB9XG5cbiAgICBpZiAoJG5leHQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm4gKHRoaXMuc2xpZGluZyA9IGZhbHNlKVxuXG4gICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSAkbmV4dFswXVxuICAgIHZhciBzbGlkZUV2ZW50ID0gJC5FdmVudCgnc2xpZGUuYnMuY2Fyb3VzZWwnLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICB9KVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KVxuICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuc2xpZGluZyA9IHRydWVcblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLnBhdXNlKClcblxuICAgIGlmICh0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCkge1xuICAgICAgdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB2YXIgJG5leHRJbmRpY2F0b3IgPSAkKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKVxuICAgICAgJG5leHRJbmRpY2F0b3IgJiYgJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnc2xpZGUnKSkge1xuICAgICAgJG5leHQuYWRkQ2xhc3ModHlwZSlcbiAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgJGFjdGl2ZS5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkbmV4dC5yZW1vdmVDbGFzcyhbdHlwZSwgZGlyZWN0aW9uXS5qb2luKCcgJykpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcbiAgICAgICAgICB0aGF0LnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgICAgICB9LCAwKVxuICAgICAgICB9KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoJGFjdGl2ZS5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nKS5zbGljZSgwLCAtMSkgKiAxMDAwKVxuICAgIH0gZWxzZSB7XG4gICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICB9XG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgICAgIHZhciBhY3Rpb24gID0gdHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyA/IG9wdGlvbiA6IG9wdGlvbnMuc2xpZGVcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgIGVsc2UgaWYgKGFjdGlvbikgZGF0YVthY3Rpb25dKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJ2YWwpIGRhdGEucGF1c2UoKS5jeWNsZSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNhcm91c2VsXG5cbiAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcblxuXG4gIC8vIENBUk9VU0VMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY2Fyb3VzZWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpIC8vIHN0cmlwIGZvciBpZTdcbiAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoJ2Nhcm91c2VsJykpIHJldHVyblxuICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG4gICAgdmFyIHNsaWRlSW5kZXggPSAkdGhpcy5hdHRyKCdkYXRhLXNsaWRlLXRvJylcbiAgICBpZiAoc2xpZGVJbmRleCkgb3B0aW9ucy5pbnRlcnZhbCA9IGZhbHNlXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb25zKVxuXG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICR0YXJnZXQuZGF0YSgnYnMuY2Fyb3VzZWwnKS50byhzbGlkZUluZGV4KVxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9KVxuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkY2Fyb3VzZWwgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkY2Fyb3VzZWwsICRjYXJvdXNlbC5kYXRhKCkpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuIiwiXG52YXIgam9icyA9IHt9O1xuXG5qUXVlcnkoZnVuY3Rpb24oJCkge1xuICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRVwiKSA8IDApIHtcbiAgICAgIC8vSUU4IOS4jeaUr+aMgWNvbnNvbGVcbiAgICAgIGNvbnNvbGUubG9nKFwiXl9eIOaDs+WKoOWFpeeslOaIiOenkeaKgOW8gOWPkeWboumYn++8n+ivt+WPkemAgemCruS7tuWIsCBsaXV4aW5nQG1laXp1LmNvbVwiKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGdldEpvYihpZCkge1xuICBpZiAoam9ic1tpZF0pIHtcbiAgICAgICQoJyNkZXRhaWwtbmFtZScpLmh0bWwoam9ic1tpZF0ubmFtZSk7XG4gICAgICAkKCcjZGV0YWlsLWFkZHJlc3MnKS5odG1sKGpvYnNbaWRdLmFkZHJlc3MpO1xuICAgICAgJCgnI2RldGFpbC1kZXNjJykuaHRtbChqb2JzW2lkXS5kZXNjcmlwdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgJC5nZXQoJy9qb2IvJyArIGlkLCBmdW5jdGlvbihqb2IpIHtcbiAgICAgIGlmIChqb2IpIHtcbiAgICAgICAgICAkKCcjZGV0YWlsLW5hbWUnKS5odG1sKGpvYi5uYW1lKTtcbiAgICAgICAgICAkKCcjZGV0YWlsLWFkZHJlc3MnKS5odG1sKGpvYi5hZGRyZXNzKTtcbiAgICAgICAgICAkKCcjZGV0YWlsLWRlc2MnKS5odG1sKGpvYi5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgam9ic1tpZF0gPSBqb2I7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvcGVuTmV3KCk7XG59O1xuXG5mdW5jdGlvbiBvcGVuTmV3KCkge1xuICAgIC8v6I635Y+W6aG16Z2i55qE6auY5bqm5ZKM5a695bqmXG4gICAgdmFyIHNXaWR0aCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGg7XG4gICAgdmFyIHNIZWlnaHQgPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDtcblxuICAgIC8v6I635Y+W6aG16Z2i55qE5Y+v6KeG5Yy65Z+f6auY5bqmXG4gICAgdmFyIHdXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICB2YXIgd0hlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cbiAgICB2YXIgb01hc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBvTWFzay5pZCA9IFwibWFza1wiO1xuICAgICAgICBvTWFzay5zdHlsZS5oZWlnaHQgPSBzSGVpZ2h0K1wicHhcIjtcbiAgICAgICAgb01hc2suc3R5bGUud2lkdGggPSBzV2lkdGgrXCJweFwiO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG9NYXNrKTtcblxuICAgIHZhciBvRGV0YWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RldGFpbCcpO1xuICAgICAgICBvRGV0YWlsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAvL+iOt+WPluW3peS9nOivpuaDheeahOWuveWSjOmrmFxuICAgIHZhciBkSGVpZ2h0ID0gb0RldGFpbC5vZmZzZXRIZWlnaHQ7XG4gICAgdmFyIGRXaWR0aCA9IG9EZXRhaWwub2Zmc2V0V2lkdGg7XG4gICAgLy/orr7nva7lt6XkvZzor6bmg4XnmoRsZWZ05ZKMdG9wXG4gICAgb0RldGFpbC5zdHlsZS5sZWZ0ID0gd1dpZHRoIC8gMiAtIGRXaWR0aCAvIDIgKyBcInB4XCI7XG4gICAgb0RldGFpbC5zdHlsZS50b3AgID0gd0hlaWdodCAvIDIgLSBkSGVpZ2h0IC8gMiArIFwicHhcIjtcblxuICAgIC8v54K55Ye75YWz6Zet5oyJ6ZKuXG4gICAgdmFyIG9DbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjbG9zZVwiKTtcblxuICAgIC8v54K55Ye75bel5L2c6K+m5oOF5Lul5aSW55qE5Yy65Z+f5Lmf5Y+v5Lul5YWz6Zet55m76ZmG5qGGXG4gICAgZm9yICggdmFyIGogPSAwOyBqIDwgb0Nsb3NlLmxlbmd0aDsgaisrKSB7XG4gICAgICBvQ2xvc2Vbal0ub25jbGljayA9IG9NYXNrLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb0RldGFpbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob01hc2spO1xuICAgICAgfTtcbiAgICB9XG59XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIG9CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiam9iLW5hbWVcIik7XG5cbiAgLy/ngrnlh7vmn6XnnIvlt6XkvZzor6bmg4VcbiAgZm9yICggdmFyIGkgPSAwOyBpIDwgb0J0bi5sZW5ndGg7IGkrKykge1xuICAgIG9CdG5baV0ub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgZ2V0Sm9iKCQodGhpcykuYXR0cignaWQnKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=